(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4888e0a6"],{"06c5":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("a630"),n("fb6a"),n("b0c0"),n("d3b7"),n("25f0"),n("3ca3");var a=n("6b75");function r(e,t){if(e){if("string"===typeof e)return Object(a["a"])(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(a["a"])(e,t):void 0}}},2909:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("6b75");function r(e){if(Array.isArray(e))return Object(a["a"])(e)}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0");function o(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}var i=n("06c5");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return r(e)||o(e)||Object(i["a"])(e)||s()}},"37e1":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var a=n("6128");function r(){Object(a["a"])({url:"orders/",params:{st:"addorder"}}).then((function(e){window.sessionStorage.setItem("subtoken",e.data.subtoken)}))}function o(){window.sessionStorage.removeItem("subtoken")}},"433b":function(e,t,n){"use strict";var a=n("ed54"),r=n.n(a);r.a},5530:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b");var a=n("ade3");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},"6b75":function(e,t,n){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n.d(t,"a",(function(){return a}))},"6cf0":function(e,t,n){"use strict";var a=n("d264"),r=n.n(a);r.a},7972:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-button",{attrs:{type:"primary"},on:{click:e.selectModel}},[e._v("select model")]),n("a-drawer",{attrs:{visible:e.visible,width:"90%",height:"50%",placement:"top","body-style":{paddingBottom:"80px"}},on:{close:e.onClose}},[n("model-table",{ref:"modelref"})],1)],1)},r=[],o=n("ee20"),i=n("e4e6"),s={components:{modelTable:o["a"],orderTomodel:i["a"]},data:function(){return{visible:!1}},methods:{selectModel:function(){this.visible=!0,this.$emit("hideOrderTable")},onClose:function(){this.$emit("getNewModel","123"),this.visible=!1,this.$emit("hideOrderTable")}}},c=s,l=n("2877"),d=Object(l["a"])(c,a,r,!1,null,null,null);t["a"]=d.exports},"7db0":function(e,t,n){"use strict";var a=n("23e7"),r=n("b727").find,o=n("44d2"),i=n("ae40"),s="find",c=!0,l=i(s);s in[]&&Array(1)[s]((function(){c=!1})),a({target:"Array",proto:!0,forced:c||!l},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o(s)},"88f7":function(e,t,n){},a434:function(e,t,n){"use strict";var a=n("23e7"),r=n("23cb"),o=n("a691"),i=n("50c4"),s=n("7b0b"),c=n("65f0"),l=n("8418"),d=n("1dde"),u=n("ae40"),f=d("splice"),m=u("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,b=Math.min,h=9007199254740991,v="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f||!m},{splice:function(e,t){var n,a,d,u,f,m,g=s(this),w=i(g.length),_=r(e,w),y=arguments.length;if(0===y?n=a=0:1===y?(n=0,a=w-_):(n=y-2,a=b(p(o(t),0),w-_)),w+n-a>h)throw TypeError(v);for(d=c(g,a),u=0;u<a;u++)f=_+u,f in g&&l(d,u,g[f]);if(d.length=a,n<a){for(u=_;u<w-a;u++)f=u+a,m=u+n,f in g?g[m]=g[f]:delete g[m];for(u=w;u>w-a+n;u--)delete g[u-1]}else if(n>a)for(u=w-a;u>_;u--)f=u+a-1,m=u+n-1,f in g?g[m]=g[f]:delete g[m];for(u=0;u<n;u++)g[u+_]=arguments[u+2];return g.length=w-a+n,d}})},ade3:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}))},b85c:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");var a=n("06c5");function r(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(a["a"])(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(c)throw i}}}}},c54b:function(e,t,n){"use strict";var a=n("88f7"),r=n.n(a);r.a},cf32:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-table",{attrs:{columns:e.checkModelData,rowKey:"id","data-source":e.modelData,bordered:"",size:"small"},scopedSlots:e._u([{key:"sale_price",fn:function(t,a,r){return[n("a-input",{model:{value:a.sale_price,callback:function(t){e.$set(a,"sale_price",t)},expression:"record.sale_price"}})]}},{key:"operation",fn:function(t,a,r){return[n("a-popconfirm",{attrs:{title:"Are you sure delete?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(t){return e.onDelete(a.id)},cancel:e.cancel}},[n("a-button",{attrs:{type:"primary",size:"small"}},[e._v("delete")])],1)]}},{key:"footer",fn:function(t){return[n("span",{staticClass:"table-footer-span"},[e._v("模具费")]),n("span",{staticClass:"table-footer-span"},[e._v("采购合计(¥)"+e._s(e.sumBuy(t)))]),n("span",{staticClass:"table-footer-span"},[e._v("销售合计($):"+e._s(e.sumModel(t)))])]}}])})],1)},r=[],o=(n("d81d"),n("13d5"),n("a9e3"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"editable-cell"},[e.editable?n("div",{staticClass:"editable-cell-input-wrapper"},[n("a-input",{attrs:{value:e.value},on:{change:e.handleChange,pressEnter:e.check}}),n("a-icon",{staticClass:"editable-cell-icon-check",attrs:{type:"check"},on:{click:e.check}})],1):n("div",{staticClass:"editable-cell-text-wrapper"},[e._v(" "+e._s(e.value)+" "),n("a-icon",{staticClass:"editable-cell-icon",attrs:{type:"edit"},on:{click:e.edit}})],1)])}),i=[],s={props:{text:Number},data:function(){return{value:this.text,editable:!1}},methods:{handleChange:function(e){var t=e.target.value;this.value=t},check:function(){this.editable=!1,this.$emit("change",this.value)},edit:function(){this.editable=!0}}},c=s,l=(n("c54b"),n("2877")),d=Object(l["a"])(c,o,i,!1,null,"7f26c691",null),u=d.exports,f=[{title:"供应商",dataIndex:"supplier",width:"8%",scopedSlots:{customRender:"supplier"}},{title:"编号",dataIndex:"number",width:"10%",scopedSlots:{customRender:"number"}},{title:"构造",dataIndex:"mconstruct",width:"5%",scopedSlots:{customRender:"construct"}},{title:"生产日期",dataIndex:"pro_date",width:"10%",scopedSlots:{customRender:"pro_date"}},{title:"单价",dataIndex:"price",width:"8%",scopedSlots:{customRender:"price"}},{title:"销售价($)",dataIndex:"sale_price",width:"13%",scopedSlots:{customRender:"sale_price"}},{title:"备注",dataIndex:"remarks",scopedSlots:{customRender:"remarks"}},{title:"opration",dataIndex:"opration",scopedSlots:{customRender:"operation"}}],m=[{title:"供应商",dataIndex:"model.supplier",width:"8%",scopedSlots:{customRender:"supplier"}},{title:"编号",dataIndex:"model.number",width:"10%",scopedSlots:{customRender:"number"}},{title:"构造",dataIndex:"model.mconstruct",width:"5%",scopedSlots:{customRender:"construct"}},{title:"生产日期",dataIndex:"model.pro_date",width:"10%",scopedSlots:{customRender:"pro_date"}},{title:"单价",dataIndex:"model.price",width:"8%",scopedSlots:{customRender:"price"}},{title:"销售价($)",dataIndex:"sale_price",width:"8%",scopedSlots:{customRender:"sale_price"}},{title:"备注",dataIndex:"model.remarks",scopedSlots:{customRender:"remarks"}},{title:"opration",dataIndex:"opration",scopedSlots:{customRender:"operation"}}],p={components:{EditableCell:u},data:function(){return{salePriceValue:0,columns:f,columns2:m}},props:{modelData:Array,checkCulumns:Number},computed:{checkModelData:function(){return 2===this.checkCulumns?this.columns2:1===this.checkCulumns?this.columns:void 0}},methods:{onCellChange:function(e,t,n){this.$emit("setSalePrice",{id:e,val:n})},onDelete:function(e){console.log(e),this.$emit("deleteNewModelRow",e)},cancel:function(e){this.$message.error("Click on No")},sumModel:function(e){var t=e.map((function(e){return Number(e.sale_price)}));return t.reduce((function(e,t){var n=Number(t);return isNaN(n)?e:e+t}),0)},sumBuy:function(e){if(1===this.checkCulumns){var t=e.map((function(e){return Number(e.price)}));return t.reduce((function(e,t){var n=Number(t);return isNaN(n)?e:e+t}),0)}if(2===this.checkCulumns){var n=e.map((function(e){return Number(e.model.price)}));return n.reduce((function(e,t){var n=Number(t);return isNaN(n)?e:e+t}),0)}}}},b=p,h=(n("433b"),Object(l["a"])(b,a,r,!1,null,"5d606638",null));t["a"]=h.exports},d264:function(e,t,n){},dbb4:function(e,t,n){var a=n("23e7"),r=n("83ab"),o=n("56ef"),i=n("fc6a"),s=n("06cf"),c=n("8418");a({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(e){var t,n,a=i(e),r=s.f,l=o(a),d={},u=0;while(l.length>u)n=r(a,t=l[u++]),void 0!==n&&c(d,t,n);return d}})},e290:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-button",{attrs:{type:"primary"},on:{click:e.showDrawer}},[e._v("New Model")]),n("a-drawer",{attrs:{title:"Create New Model",visible:e.visible,width:"40%","body-style":{paddingBottom:"80px"},destroyOnClose:!0},on:{close:e.onClose}},[n("a-form-model",{ref:"addModelForm",attrs:{model:e.form,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[n("a-form-model-item",{attrs:{label:"supplier",prop:"supplier"}},[n("a-select",{attrs:{size:"default"},on:{dropdownVisibleChange:e.dropdownVisibleChange},model:{value:e.form.supplier,callback:function(t){e.$set(e.form,"supplier",t)},expression:"form.supplier"}},e._l(e.customers,(function(t,a){return n("a-select-option",{key:a,attrs:{value:t.lite_name}},[e._v(e._s(t.lite_name))])})),1)],1),n("a-form-model-item",{attrs:{label:"attribute",prop:"atr"}},[n("a-select",{attrs:{placeholder:"非必填项目"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("自有")]),n("a-select-option",{attrs:{value:"2"}},[e._v("工厂")]),n("a-select-option",{attrs:{value:"3"}},[e._v("样品")])],1)],1),n("a-form-model-item",{attrs:{label:"material",prop:"material"}},[n("a-select",{attrs:{placeholder:"非必填项目"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("铜模")]),n("a-select-option",{attrs:{value:"2"}},[e._v("钢模")])],1)],1),n("a-form-model-item",{attrs:{label:"size",prop:"size"}},[n("a-input",{attrs:{placeholder:"非必填项目"},model:{value:e.form.size,callback:function(t){e.$set(e.form,"size",t)},expression:"form.size"}})],1),n("a-form-model-item",{attrs:{label:"construct",prop:"construct"}},[n("a-input",{attrs:{placeholder:"非必填项目"},model:{value:e.form.construct,callback:function(t){e.$set(e.form,"construct",t)},expression:"form.construct"}})],1),n("a-form-model-item",{attrs:{label:"production date",prop:"pro_date"}},[n("a-date-picker",{model:{value:e.form.pro_date,callback:function(t){e.$set(e.form,"pro_date",t)},expression:"form.pro_date"}})],1),n("a-form-model-item",{attrs:{label:"useful life",prop:"useful_life"}},[n("a-input",{attrs:{placeholder:"非必填项目"},model:{value:e.form.useful_life,callback:function(t){e.$set(e.form,"useful_life",t)},expression:"form.useful_life"}})],1),n("a-form-model-item",{attrs:{label:"price",prop:"price"}},[n("a-input",{model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),n("a-form-model-item",{attrs:{label:"remarks",prop:"remarks"}},[n("a-input",{attrs:{type:"textarea"},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1),n("a-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("Create")])],1)],1)],1)},r=[],o=(n("a9e3"),n("f6b0")),i=n("f8b7"),s={data:function(){return{visible:!1,labelCol:{span:4},wrapperCol:{span:14},customers:[],form:{supplier:"",atr:Number,material:Number,size:"",construct:"",pro_date:"",useful_life:"",price:"",remarks:""},rules:{supplier:[{required:!0,message:"Please select supplier",trigger:"change"}],pro_date:[{required:!0,message:"Please select date"}],price:[{required:!0,message:"Please input price"}]}}},methods:{dropdownVisibleChange:function(){var e=this;0===this.customers.length&&Object(o["a"])().then((function(t){e.customers=t.data})).catch((function(e){}))},submit:function(){var e=this;this.form.pro_date=this.form.pro_date.format("YYYY-MM-DD"),Object(i["k"])(this.form).then((function(t){e.$emit("getData"),t.data.sale_price=0,e.$emit("getNewModelData",t.data),e.onClose(),e.$message.success("提交成功")})).catch((function(t){e.$message.error("提交失败,请重新录入"),e.onClose(),e.form={}}))},showDrawer:function(){this.visible=!0,this.$emit("hideOrderTable",!1)},onClose:function(){this.visible=!1,this.$emit("hideOrderTable",!0)}}},c=s,l=n("2877"),d=Object(l["a"])(c,a,r,!1,null,null,null);t["a"]=d.exports},e439:function(e,t,n){var a=n("23e7"),r=n("d039"),o=n("fc6a"),i=n("06cf").f,s=n("83ab"),c=r((function(){i(1)})),l=!s||c;a({target:"Object",stat:!0,forced:l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return i(o(e),t)}})},e4e6:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-table",{attrs:{columns:e.columns,rowKey:"id","data-source":e.data,pagination:e.pagination,loading:e.loading,"row-selection":{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange,onSelect:e.onSelected},bordered:"",size:"small"},scopedSlots:e._u([{key:"atr",fn:function(t){return[e._v(e._s(e._f("modelAttr")(t)))]}},{key:"material",fn:function(t){return[e._v(e._s(e._f("modelMaterial")(t)))]}}])}),n("a-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确定")])],1)},r=[],o=(n("4160"),n("159b"),n("5530")),i=n("f8b7"),s=(n("e290"),[{title:"订单编号",dataIndex:"order_number.order_number",width:"10%",scopedSlots:{customRender:"order_number"}},{title:"供应商",dataIndex:"model.supplier",width:"8%",scopedSlots:{customRender:"supplier"}},{title:"编号",dataIndex:"model.number",width:"10%",scopedSlots:{customRender:"number"}},{title:"属性",dataIndex:"model.atr",width:"5%",scopedSlots:{customRender:"atr"}},{title:"材质",dataIndex:"model.material",width:"5%",scopedSlots:{customRender:"material"}},{title:"尺寸",dataIndex:"model.size",width:"8%",scopedSlots:{customRender:"size"}},{title:"构造",dataIndex:"model.construct",width:"5%",scopedSlots:{customRender:"construct"}},{title:"生产日期",dataIndex:"model.pro_date",width:"10%",scopedSlots:{customRender:"pro_date"}},{title:"使用寿命",dataIndex:"model.useful_life",width:"8%",scopedSlots:{customRender:"useful_life"}},{title:"单价",dataIndex:"model.price",width:"8%",scopedSlots:{customRender:"price"}},{title:"备注",dataIndex:"model.remarks",scopedSlots:{customRender:"remarks"}}]),c={data:function(){return{data:[],pagination:{},loading:!1,editingKey:"",editingRow:0,selectedRowKeys:[],tableSelecting:!1,selectData:[],columns:s}},mounted:function(){this.getData()},computed:{hasSelected:function(){return this.selectedRowKeys.length>0}},methods:{getData:function(){var e=this;this.loading=!0,Object(i["d"])().then((function(t){var n=Object(o["a"])({},e.pagination);n.total=t.data.count,e.loading=!1,e.data=t.data.results}))},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectData=t},onSelected:function(e,t,n,a){},submit:function(){var e=this;this.selectData.forEach((function(t){e.$emit("getNewModelData",t.model)}))}}},l=c,d=n("2877"),u=Object(d["a"])(l,a,r,!1,null,"4c6f99b9",null);t["a"]=u.exports},ed54:function(e,t,n){},ee20:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("add-model",{attrs:{hidden:e.selectingShow},on:{getData:e.getData}}),n("a-table",{attrs:{columns:e.columns,rowKey:"id","data-source":e.data,pagination:e.pagination,loading:e.loading,"row-selection":{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange},bordered:""},scopedSlots:e._u([e._l(["size","remarks","construct","material"],(function(t){return{key:t,fn:function(a,r,o){return[n("div",{key:t},[r.editable?n("a-input",{staticStyle:{margin:"-5px 0"},attrs:{value:a},on:{change:function(n){return e.handleChange(n.target.value,o,t)}}}):[e._v(e._s(a))]],2)]}}})),{key:"atr",fn:function(t,a,r){return[n("div",{key:"atr"},[a.editable?n("a-select",{attrs:{"default-value":t},on:{select:e.handleSelect}},e._l(["自有","工厂","样品"],(function(t,a){return n("a-select-option",{key:a,attrs:{value:a}},[e._v(e._s(t))])})),1):[e._v(e._s(e._f("modelAttr")(t)))]],2)]}},{key:"material",fn:function(t,a,r){return[n("div",{key:"material"},[a.editable?n("a-select",{attrs:{"default-value":t},on:{select:e.handleSelectMaterial}},e._l(["铜模","钢模"],(function(t,a){return n("a-select-option",{key:a,attrs:{value:a}},[e._v(e._s(t))])})),1):[e._v(e._s(e._f("modelMaterial")(t)))]],2)]}},{key:"operation",fn:function(t,a,r){return[n("div",{staticClass:"editable-row-operations"},[a.editable?n("span",[n("a",{on:{click:function(){return e.save(a.id,r)}}},[e._v("Save")]),n("a-popconfirm",{attrs:{title:"Sure to cancel?"},on:{confirm:function(){return e.cancel(r,a)}}},[n("a",[e._v("Cancel")])])],1):n("span",[n("a",{attrs:{disabled:""!==e.editingKey},on:{click:function(){return e.edit(r)}}},[e._v("Edit")]),e.data.length?n("a-popconfirm",{attrs:{title:"Sure to delete?"},on:{confirm:function(){return e.onDelete(a.id,r)}}},[n("a",{attrs:{href:"javascript:;"}},[e._v("Delete")])]):e._e()],1)])]}}],null,!0)}),n("a-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确定")])],1)},r=[],o=(n("4160"),n("a434"),n("159b"),n("2909")),i=n("5530"),s=n("f8b7"),c=n("e290"),l=[{title:"供应商",dataIndex:"supplier",width:"8%",scopedSlots:{customRender:"supplier"}},{title:"编号",dataIndex:"number",width:"10%",scopedSlots:{customRender:"number"}},{title:"属性",dataIndex:"atr",width:"5%",scopedSlots:{customRender:"atr"}},{title:"材质",dataIndex:"material",width:"5%",scopedSlots:{customRender:"material"}},{title:"尺寸",dataIndex:"size",width:"8%",scopedSlots:{customRender:"size"}},{title:"构造",dataIndex:"construct",width:"5%",scopedSlots:{customRender:"construct"}},{title:"生产日期",dataIndex:"pro_date",width:"10%",scopedSlots:{customRender:"pro_date"}},{title:"使用寿命",dataIndex:"useful_life",width:"8%",scopedSlots:{customRender:"useful_life"}},{title:"单价",dataIndex:"price",width:"8%",scopedSlots:{customRender:"price"}},{title:"备注",dataIndex:"remarks",width:"15%",scopedSlots:{customRender:"remarks"}},{title:"opration",dataIndex:"opration",scopedSlots:{customRender:"operation"}}],d={components:{addModel:c["a"]},props:{selectingShow:{type:Boolean,default:!1}},data:function(){return{data:[],pagination:{},loading:!1,editingKey:"",editingRow:0,selectedRowKeys:[],selectData:[],tableSelecting:!1,columns:l}},mounted:function(){this.getData()},computed:{hasSelected:function(){return this.selectedRowKeys.length>0}},methods:{getData:function(){var e=this;this.loading=!0,Object(s["c"])().then((function(t){var n=Object(i["a"])({},e.pagination);n.total=t.data.count,e.loading=!1,e.data=t.data.results,e.pagination=n}))},handleChange:function(e,t,n){var a=Object(o["a"])(this.data),r=a[t];r&&(r[n]=e,this.data=a)},edit:function(e){var t=Object(o["a"])(this.data),n=t[e];n&&(n.editable=!0,this.editingRow=e,this.data=t)},save:function(e,t){var n=this,a=Object(o["a"])(this.data),r=a[t];r&&Object(s["g"])(e,r).then((function(e){r.editable=!1,n.data=a,n.$message.success("修改成功")})).catch((function(e){n.$message.error("修改失败")}))},cancel:function(e,t){this.getData()},onDelete:function(e,t){var n=this;Object(s["g"])(e,{is_delete:1}).then((function(e){n.data.splice(t,1),n.$message.success("删除成功")})).catch((function(e){n.$message.error("删除失败")}))},handleSelect:function(e){this.data[this.editingRow].atr=e},handleSelectMaterial:function(e){this.data[this.editingRow].material=e},onSelectChange:function(e,t){this.selectedRowKeys=e,t.forEach((function(e){e.sale_price=0})),this.selectData=t},submit:function(){var e=this;this.selectData.forEach((function(t){e.$emit("getNewModelData",t)}))}}},u=d,f=(n("6cf0"),n("2877")),m=Object(f["a"])(u,a,r,!1,null,"a0d5b554",null);t["a"]=m.exports},f6b0:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return d}));var a=n("6128"),r=n("4328"),o=n.n(r);function i(e){return Object(a["a"])({url:"customers/",method:"post",params:{subtoken:window.sessionStorage.getItem("subtoken")},data:o.a.stringify(e)})}function s(e){return Object(a["a"])({url:"customers/",params:e})}function c(e){return Object(a["a"])({url:"customer_addr/",params:e})}function l(e){return Object(a["a"])({url:"customer_addr/",method:"post",params:{subtoken:window.sessionStorage.getItem("subtoken")},data:o.a.stringify(e)})}function d(e,t){return Object(a["a"])({url:"customer_addr/".concat(e,"/"),method:"patch",data:o.a.stringify(t)})}}}]);