(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fe5ebc66"],{"0323":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:t.addproductType}},[t._v("新增类别")])],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:t.addproductData}},[t._v("新增产品")])],1)],1),a("Product-table",{on:{checkproductData:t.checkproductData,checkProductTopackData:t.checkProductTopackData}}),a("add-product",{ref:"addProductComponent",attrs:{addProductData:t.productsData,getProductToPacks:t.getProductToPacks,addProductVisble:t.addProductVisible},on:{closeAddProductDialog:t.closeAddProductDialog}}),a("product-type-table",{attrs:{visible:t.addproductTypeVisible},on:{closeAddproductType:t.closeAddproductType}})],1)},n=[],l=(a("4160"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{},attrs:{data:t.productsData,border:"","show-summary":"","highlight-current-row":"","row-class-name":t.tableRowClassName,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-table-column",{attrs:{label:"一级类目",align:"center",width:"100",fiexd:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.one_category))])]}}])}),a("el-table-column",{attrs:{label:"二级类目",align:"center",width:"100",fiexd:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.tow_category))])]}}])}),a("el-table-column",{attrs:{label:"seo标题",align:"center",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{model:{value:e.row.seo_title,callback:function(a){t.$set(e.row,"seo_title",a)},expression:"scope.row.seo_title"}})]}}])}),a("el-table-column",{attrs:{label:"seo描述",align:"center",width:"350"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{model:{value:e.row.seo_desc,callback:function(a){t.$set(e.row,"seo_desc",a)},expression:"scope.row.seo_desc"}})]}}])}),a("el-table-column",{attrs:{label:"添加日期",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.pub_date))])]}}])}),a("el-table-column",{attrs:{label:"编号",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.pro_number))])]}}])}),a("el-table-column",{attrs:{label:"名称",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.pro_name))])]}}])}),a("el-table-column",{attrs:{label:"尺寸",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.pro_size))])]}}])}),a("el-table-column",{attrs:{label:"重量(g)",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.pro_weight))])]}}])}),a("el-table-column",{attrs:{label:"型号",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.pro_model))])]}}])}),a("el-table-column",{attrs:{label:"包装",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.pro_pack))])]}}])}),a("el-table-column",{attrs:{width:"150",label:"颜色"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("add-product-color",{attrs:{parentProColor:e,addColorBtn:t.childAddColorBtn=!1},on:{getProColor:t.handleSelect,delProColor:t.delProColor}})]}}])}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.handleCheck(e.row,e.$index)}}},[t._v("查看")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.handleSave(e.row)}}},[t._v("保存")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.handleDel(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),a("pagi-nation",{attrs:{getDataTotal:t.dataTotal},on:{pagination:t.pagination}})],1)}),r=[],i=(a("c975"),a("a434"),a("ac1f"),a("1276"),a("4c79")),c=a("2822"),s=a("d2c0"),d=a("6681"),u=a("b59b"),p=a("3c4d"),b={name:"ProductTable",components:{addProductColor:c["a"],pagiNation:s["a"],backendSearchVue:u["a"],dateSearch:d["a"]},data:function(){return{productsData:[],productTypeData:[],childAddColorBtn:!0,loading:!1,dataTotal:0}},methods:{delProColor:function(t,e){var a="";this.productsData[e].pro_color.split("|").forEach((function(e,o){-1===e.indexOf(t)&&""!==e&&(a+=e+"|")})),this.productsData[e].pro_color=a},handleSelect:function(t,e){""===this.productsData[e].pro_color?this.productsData[e].pro_color=JSON.stringify(t)+"|":this.productsData[e].pro_color+=JSON.stringify(t)+"|"},tableRowClassName:function(){return""},pagination:function(t){var e=this;t||(t={page:1,page_size:10}),Object(i["d"])(t).then((function(t){t.data.results.forEach((function(t){t.one_category=t.sub_type.parent_category.category,t.tow_category=t.sub_type.category})),e.productsData=t.data.results,e.loading=!1,e.dataTotal=t.data.count}))},handleCheck:function(t,e){var a=this;Array.isArray(t.imprint_methods)||(t.imprint_methods=t.imprint_methods.split(",")),Array.isArray(t.imprint_location)||(t.imprint_location=t.imprint_location.split(",")),Array.isArray(t.capacities)||(t.capacities=t.capacities.split(",")),Object(p["c"])({product_id:t.id}).then((function(t){var e=[];t.data.results.length>0&&t.data.results.forEach((function(t){e.push(t.packs.id)})),a.$emit("checkProductTopackData",e)})),this.$emit("checkproductData",t)},handleSave:function(t){var e=this;Object(i["f"])(t.id,t).then((function(t){e.$notify({message:"保存成功",type:"success"})})).catch((function(t){e.$notify.error({message:"保存失败"})}))},handleDel:function(t,e){var a=this;e.hasOwnProperty("id")?this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.productsData.splice(t,1),Object(i["f"])(e.id,{is_delete:1}).then((function(t){a.$message({type:"success",message:"删除成功!"})}))})).catch((function(){a.$message({type:"info",message:"删除失败!"})})):this.$confirm("数据未保存,确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.productsData.splice(t,1),a.$message({type:"success",message:"删除成功!"})})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))}},created:function(){this.pagination()}},f=b,m=a("2877"),h=Object(m["a"])(f,l,r,!1,null,"2ada00a0",null),g=h.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("el-dialog",{attrs:{title:"",visible:t.addProductVisble,width:"95%","before-close":t.close,"destroy-on-close":!0},on:{"update:visible":function(e){t.addProductVisble=e}}},[a("el-form",{ref:"addProductData",attrs:{model:t.addProductData,"label-width":"70px"}},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"一级目录"}},[a("span",[t._v(t._s(t.addProductData.one_category))])])],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"二级目录"}},[a("span",[t._v(t._s(t.addProductData.tow_category))])])],1)],1),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"类目"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{"visible-change":t.selectTest},model:{value:t.addProductData.sub_type,callback:function(e){t.$set(t.addProductData,"sub_type",e)},expression:"addProductData.sub_type"}},t._l(t.productTypeData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.category,value:t.id}})})),1)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"编号"}},[a("el-input",{model:{value:t.addProductData.pro_number,callback:function(e){t.$set(t.addProductData,"pro_number",e)},expression:"addProductData.pro_number"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:t.addProductData.pro_name,callback:function(e){t.$set(t.addProductData,"pro_name",e)},expression:"addProductData.pro_name"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"尺寸"}},[a("el-input",{model:{value:t.addProductData.pro_size,callback:function(e){t.$set(t.addProductData,"pro_size",e)},expression:"addProductData.pro_size"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"重量(g)"}},[a("el-input",{model:{value:t.addProductData.pro_weight,callback:function(e){t.$set(t.addProductData,"pro_weight",e)},expression:"addProductData.pro_weight"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"规格"}},[a("el-input",{model:{value:t.addProductData.pro_model,callback:function(e){t.$set(t.addProductData,"pro_model",e)},expression:"addProductData.pro_model"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"材质"}},[a("el-select",{model:{value:t.addProductData.material,callback:function(e){t.$set(t.addProductData,"material",e)},expression:"addProductData.material"}},t._l(t.materialOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"包装"}},[a("el-select",{model:{value:t.addProductData.pro_pack,callback:function(e){t.$set(t.addProductData,"pro_pack",e)},expression:"addProductData.pro_pack"}},t._l(t.PackOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"MOQ"}},[a("el-input",{model:{value:t.addProductData.moq,callback:function(e){t.$set(t.addProductData,"moq",e)},expression:"addProductData.moq"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"新品"}},[a("el-select",{model:{value:t.addProductData.is_new,callback:function(e){t.$set(t.addProductData,"is_new",e)},expression:"addProductData.is_new"}},t._l(t.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"热销"}},[a("el-select",{model:{value:t.addProductData.is_hot,callback:function(e){t.$set(t.addProductData,"is_hot",e)},expression:"addProductData.is_hot"}},t._l(t.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"logo尺寸"}},[a("el-input",{model:{value:t.addProductData.imprint_size,callback:function(e){t.$set(t.addProductData,"imprint_size",e)},expression:"addProductData.imprint_size"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"logo工艺"}},[a("el-checkbox-group",{attrs:{size:"normal"},model:{value:t.addProductData.imprint_methods,callback:function(e){t.$set(t.addProductData,"imprint_methods",e)},expression:"addProductData.imprint_methods"}},t._l(t.imprintMethodsList,(function(e){return a("el-checkbox",{key:e,attrs:{label:e}},[t._v(" "+t._s(e)+" ")])})),1)],1)],1),a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"logo位置"}},[a("el-checkbox-group",{attrs:{size:"normal"},model:{value:t.addProductData.imprint_location,callback:function(e){t.$set(t.addProductData,"imprint_location",e)},expression:"addProductData.imprint_location"}},t._l(t.imprintLocationList,(function(e){return a("el-checkbox",{key:e,attrs:{label:e}},[t._v(" "+t._s(e)+" ")])})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24,offset:0}},[a("el-form-item",{attrs:{label:"容量"}},[a("el-checkbox-group",{attrs:{size:"normal"},model:{value:t.addProductData.capacities,callback:function(e){t.$set(t.addProductData,"capacities",e)},expression:"addProductData.capacities"}},t._l(t.capacitiesList,(function(e){return a("el-checkbox",{key:e,attrs:{label:e}},[t._v(" "+t._s(e)+" ")])})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"seo标题"}},[a("el-input",{attrs:{placeholder:"placeholder"},model:{value:t.addProductData.seo_title,callback:function(e){t.$set(t.addProductData,"seo_title",e)},expression:"addProductData.seo_title"}})],1)],1),a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"seo描述"}},[a("el-input",{attrs:{type:"textarea",placeholder:"placeholder"},model:{value:t.addProductData.seo_desc,callback:function(e){t.$set(t.addProductData,"seo_desc",e)},expression:"addProductData.seo_desc"}})],1)],1)],1),a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"产品描述"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.selectProductTextTable}},[t._v("选择")])],1)],1),a("el-col",[a("el-form-item",[a("el-input",{attrs:{type:"textarea"},model:{value:t.addProductData.description,callback:function(e){t.$set(t.addProductData,"description",e)},expression:"addProductData.description"}})],1)],1)],1),a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"定制说明"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.selectCustom}},[t._v("选择")])],1)],1),a("el-col",[a("el-form-item",[a("el-input",{attrs:{type:"textarea"},model:{value:t.addProductData.custom,callback:function(e){t.$set(t.addProductData,"custom",e)},expression:"addProductData.custom"}})],1)],1)],1),a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"补充说明"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.selectPrompt}},[t._v("选择")])],1)],1),a("el-col",[a("el-form-item",[a("el-input",{attrs:{type:"textarea"},model:{value:t.addProductData.prompt,callback:function(e){t.$set(t.addProductData,"prompt",e)},expression:"addProductData.prompt"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"颜色"}},[a("add-product-color",{attrs:{ProductColor:t.addProductData,addColorBtn:t.childAddColorBtn=!1},on:{getProColor:t.handleSelect,delProColor:t.delProColor}})],1)],1)],1),a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:t.selectPic}},[t._v("选择图片")]),a("el-col",{attrs:{span:18}},[a("upload-pic",{attrs:{number:t.addProductData.pro_number,owner:"product"},on:{sendPicUrl:t.getPicUrl}}),t._l(t.pic_url,(function(e,o){return a("div",{key:o},[a("span",[t._v(t._s(e))])])}))],2),a("el-col",{attrs:{span:6}},[a("pic-carousel",{ref:"picCar",attrs:{proPicUrl:t.pic_url}})],1)],1),a("postproduct-to-pack",{attrs:{products:t.addProductData,getProductToPacks:t.getProductToPacks}})],1),a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("创建")]),a("el-button",{attrs:{type:"primary"},on:{click:t.handleSave}},[t._v("保存")]),a("el-dialog",{attrs:{visible:t.PicDialogTableVisible,width:"95%","append-to-body":!0},on:{"update:visible":function(e){t.PicDialogTableVisible=e}}},[a("image-table",{ref:"imageTable",on:{patchImageTable:t.patchImageTable}}),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.selectImage}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{visible:t.ProductTextTabledialogVisible,width:"90%","append-to-body":!0,"before-close":t.ProductTextTableDialogClose},on:{"update:visible":function(e){t.ProductTextTabledialogVisible=e}}},[a("product-text-table",{ref:"ProductTextSelectTable",attrs:{ProductTextSelectedShow:!0},on:{ProductTextSelected:t.ProductTextSelected}})],1)],1)],1)},y=[],v=(a("a4d3"),a("e01a"),a("d3b7"),a("25f0"),a("f0ad")),P=a("4c60"),k=a("f719"),w=a("685c"),D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.selectPacks}},[t._v("选择包装")]),a("el-table",{attrs:{data:t.packsData}},[a("el-table-column",{attrs:{prop:"pack_number",label:"编号",width:"80"}}),a("el-table-column",{attrs:{prop:"size",label:"尺寸",width:"100"}}),a("el-table-column",{attrs:{prop:"material",label:"材质",width:"100"}}),a("el-table-column",{attrs:{prop:"weight",label:"重量",width:"60"}}),a("el-table-column",{attrs:{prop:"description",label:"描述",width:"500"}}),a("el-table-column",{attrs:{label:"图片",prop:"pack_image"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-carousel",{attrs:{trigger:"click",height:"150px"}},t._l(e.row.pack_image,(function(t,e){return a("el-carousel-item",{key:e},[a("img",{staticClass:"car-img",attrs:{src:t.path,width:"auto",alt:""}})])})),1)]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.handleDel(e)}}},[t._v("删除")]),0===e.row.is_save?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.upload(e)}}},[t._v("保存")]):t._e()]}}])})],1),a("el-dialog",{attrs:{visible:t.packsDialogVisible,width:"80%","before-close":t.handleClose,"append-to-body":!0},on:{"update:visible":function(e){t.packsDialogVisible=e}}},[a("packs-table",{ref:"packsTable",on:{getSelectedPacks:t.getSelectedPacks}}),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.confirm}},[t._v("确定")])],1)],1)},T=[],x=a("1438"),S={components:{PacksTable:x["a"],PicCarousel:v["a"]},data:function(){return{packsDialogVisible:!1,selectedPacks:[],packsData:this.getProductToPacks}},props:{products:Object,getProductToPacks:Array},methods:{selectPacks:function(){this.packsDialogVisible=!this.packsDialogVisible},handleClose:function(t){var e=this;this.$confirm("确认关闭？").then((function(a){e.selectedPacks.forEach((function(t){-1===e.packsData.indexOf(t)?(t.is_save=0,e.packsData.push(t)):e.$message.warning({message:"".concat(t.pack_number,"已添加,请重新选择")})})),e.$refs.packsTable.emptySelectedRowKeys(),t()})).catch((function(t){}))},getSelectedPacks:function(t){this.selectedPacks=t},confirm:function(){console.log(this.packsData)},upload:function(t){Object(p["e"])({product:this.products.id,packs:t.row.id}).then((function(e){console.log(e),t.row.is_save=1}))},handleDel:function(t){this.packsData.splice(t.$index,1)}}},$=S,O=Object(m["a"])($,D,T,!1,null,null,null),C=O.exports,j=a("1896"),z={name:"addProduct",components:{ProductTextTable:j["a"],picCarousel:v["a"],uploadPic:P["a"],addProductColor:c["a"],imageTable:k["a"],PostproductToPack:C},props:{addProductVisble:{type:Boolean,default:!1},addProductData:{type:Object,default:function(){return{pro_color:"",imprint_methods:[],imprint_location:[],capacities:[]}}},getProductToPacks:Array},data:function(){return{imageData:[],PicDialogTableVisible:!1,ProductTextTabledialogVisible:!1,productTypeData:[],pic_url:[],pic_id:"",options:[{label:"是",value:1},{label:"否",value:0}],materialOptions:[{label:"Plastic",value:"Plastic"},{label:"Aluminum",value:"Aluminum"},{label:"Aluminum&Plastic",value:"Aluminum&Plastic"},{label:"custom",value:"custom"}],PackOptions:[{label:"Polybag",value:"Polybag"},{label:"Aluminum",value:"Aluminum"},{label:"PP Case",value:"PP Case"},{label:"Tin Box",value:"Tin Box"},{label:"Custom",value:"Custom"}],childAddColorBtn:!0,editor:null,editorData:"",imprintMethodsList:["Silkscreen","Laser Engrave","UV","FCP","custom"],imprintLocationList:["Side","Front","Backend","custom"],capacitiesList:["128MB","256MB","512MB","1GB","2GB","4GB","8GB","16GB","32GB","64GB","128GB","1800mAh","2000mAh","2200mAh","2600mAh","2800mAh","3000mAh","3200mAh","4000mAh","5000mAh","8000mAh","10000mAh","custom"],whoSelecting:0}},methods:{selectProductTextTable:function(){this.ProductTextTabledialogVisible=!0,this.whoSelecting=1},selectCustom:function(){this.ProductTextTabledialogVisible=!0,this.whoSelecting=2},selectPrompt:function(){this.ProductTextTabledialogVisible=!0,this.whoSelecting=3},selectTest:function(t){var e=this;!0===t&&Object(i["a"])().then((function(t){e.productTypeData=t.data.results}))},delProColor:function(t,e){var a="";this.productsData[e].pro_color.split("|").forEach((function(e,o){-1===e.indexOf(t)&&""!==e&&(a+=e+"|")})),this.productsData[e].pro_color=a},handleSelect:function(t){""===this.addProductData.pro_color?this.addProductData.pro_color=JSON.stringify(t)+"|":this.addProductData.pro_color+=JSON.stringify(t)+"|"},getPicUrl:function(t){this.pic_url.push(t.url),this.pic_id=t.id},getEditorData:function(){var t=this.addProductData.imprint_methods;0===t.length?t="custom":this.addProductData.imprint_methods=t.toString();var e=this.addProductData.imprint_location;0===e.length?e="custom":this.addProductData.imprint_location=e.toString();var a=this.addProductData.capacities;0===a.length?a="custom":this.addProductData.capacities=a.toString(),console.log(this.addProductData)},onSubmit:function(){var t=this;this.getEditorData(),Object(i["j"])(this.addProductData).then((function(e){null!==t.pic_id&&Object(w["c"])(t.pic_id,{pro_number:e.data.id}).then((function(e){t.$notify({message:"创建成功",type:"success"})})),t.$message.success("创建成功")})).catch((function(e){t.$notify.error({message:"创建失败"})}))},close:function(){var t=this;this.$confirm("数据未保存,确认关闭?").then((function(e){t.$emit("closeAddProductDialog"),t.pic_url=[]})).catch((function(t){}))},handleSave:function(){var t=this;this.getEditorData(),Object(i["f"])(this.addProductData.id,this.addProductData).then((function(e){t.$emit("closeAddProductDialog"),t.$notify({message:"提交成功",type:"success"})})).catch((function(e){t.$notify.error({message:"提交失败"})}))},prefill:function(){},selectPic:function(){this.PicDialogTableVisible=!0},patchImageTable:function(t){this.imageData=t},handlePatchImageTable:function(t){var e=this;this.imageData.forEach((function(a){Object(w["c"])(a.id,{pro_number:t}).then((function(t){e.pic_url.push("https://chinagoodgifts.com/image/"+t.data.path),e.$refs.imageTable.clearSelect(),e.PicDialogTableVisible=!1})).catch((function(t){e.$notify.error({title:"错误",message:"图片选中失败,请重试"})}))}))},selectImage:function(){var t=this;this.addProductData.id?this.handlePatchImageTable(this.addProductData.id):Object(i["j"])(this.addProductData).then((function(e){t.handlePatchImageTable(e.data.id)})).catch((function(e){t.$notify.error({title:"错误",message:"产品提交不成功,请重试"})}))},ProductTextSelected:function(t){if(this.ProductTextTabledialogVisible=!1,t.length>0)switch(this.whoSelecting){case 1:for(var e=0;e<=t.length;e++){if(this.addProductData.description+=t[e].p_content,e===t.length-1)break;this.addProductData.description+="/"}break;case 2:for(var a=0;a<=t.length;a++){if(this.addProductData.custom+=t[a].p_content,a===t.length-1)break;this.addProductData.custom+="/"}break;case 3:for(var o=0;o<=t.length;o++){if(this.addProductData.prompt+=t[o].p_content,o===t.length-1)break;this.addProductData.prompt+="/"}break}},ProductTextTableDialogClose:function(t){var e=this;this.$confirm("数据未确认,是否关闭？").then((function(a){e.$refs.ProductTextSelectTable.removeSelected(),t()})).catch((function(t){}))}}},A=z,V=Object(m["a"])(A,_,y,!1,null,null,null),E=V.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{visible:t.visible,width:"50%","before-close":t.handleClose},on:{"update:visible":function(e){t.visible=e}}},[a("el-button",{attrs:{type:"primary"},on:{click:t.addProductType}},[t._v("新增目录")]),a("el-table",{attrs:{data:t.productTypeTableData,loading:t.loading}},[a("el-table-column",{attrs:{prop:"parent_category",label:"一级类别"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.parent_category.category))])]}}])}),a("el-table-column",{attrs:{prop:"category",label:"二级类别"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.category))])]}}])})],1),a("pagi-nation",{attrs:{getDataTotal:t.dataTotal},on:{pagination:t.pagination}})],1),a("el-dialog",{attrs:{visible:t.addProductTypeVisible},on:{"update:visible":function(e){t.addProductTypeVisible=e}}},[a("add-product-sub-type")],1)],1)},B=[],R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"ProductSubTypeData",attrs:{model:t.ProductSubTypeData,"label-position":"left","label-width":"80px"}},[a("el-form-item",{attrs:{label:"一级类别"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",clearable:""},on:{"visible-change":t.getParentType},model:{value:t.ProductSubTypeData.parent_category,callback:function(e){t.$set(t.ProductSubTypeData,"parent_category",e)},expression:"ProductSubTypeData.parent_category"}},t._l(t.productTypeData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.category,value:t.id}})})),1),a("small",[t._v("请选择一级目录,如不存在,请新增")]),a("el-input",{attrs:{disabled:t.disabled},model:{value:t.parentCategoryData.category,callback:function(e){t.$set(t.parentCategoryData,"category",e)},expression:"parentCategoryData.category"}}),a("el-button",{attrs:{type:"primary",size:"mini",round:""},on:{click:t.addParentCategory}},[t._v("新增一级目录")]),a("el-button",{attrs:{type:"primary",size:"mini",round:"",disabled:t.disabled},on:{click:t.postParentCategory}},[t._v("保存")])],1),a("el-form-item",{attrs:{label:"二级类别"}},[a("el-input",{model:{value:t.ProductSubTypeData.category,callback:function(e){t.$set(t.ProductSubTypeData,"category",e)},expression:"ProductSubTypeData.category"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("创建二级目录")]),a("el-button",{attrs:{type:"danger"},on:{click:t.resetForm}},[t._v("取消")])],1)],1)},I=[],U={name:"addProductSubType",data:function(){return{ProductSubTypeData:{},productTypeData:[],disabled:!0,parentCategoryData:{}}},methods:{getParentType:function(){var t=this;Object(i["c"])().then((function(e){t.productTypeData=e.data.results}))},addParentCategory:function(){this.disabled=!1},postParentCategory:function(){var t=this;Object(i["i"])(this.parentCategoryData).then((function(e){t.$message.success("提交成功")})).catch((function(e){t.$message.error({message:"提交失败"})}))},onSubmit:function(){var t=this;Object(i["g"])(this.ProductSubTypeData).then((function(e){t.$message.success("提交成功")})).catch((function(e){t.$message.error("提交失败")}))},resetForm:function(){this.ProductSubTypeData={}},handleClose:function(){this.disabled=!1}}},M=U,L=Object(m["a"])(M,R,I,!1,null,"5fcf75cd",null),G=L.exports,K={components:{AddProductSubType:G,pagiNation:s["a"]},props:{visible:{type:Boolean,default:!1}},data:function(){return{dataTotal:0,productTypeTableData:[],loading:!0,addProductTypeVisible:!1}},methods:{pagination:function(t){var e=this;t||(t={page:1,page_size:10}),Object(i["a"])(t).then((function(t){e.productTypeTableData=t.data.results,e.loading=!1,e.dataTotal=t.data.count}))},handleClose:function(t){var e=this;new Promise((function(t,a){e.$emit("closeAddproductType"),t()})).then((function(e){t()}))},addProductType:function(){this.addProductTypeVisible=!0}},mounted:function(){this.pagination()}},F=K,J=Object(m["a"])(F,N,B,!1,null,null,null),W=J.exports,q={components:{ProductTypeTable:W,ProductTable:g,addProduct:E},data:function(){return{productsData:{pro_color:"",imprint_methods:[],capacities:[],imprint_location:[]},getProductToPacks:[],addproductTypeVisible:!1,addProductVisible:!1}},methods:{pagination:function(){},addproductType:function(){this.addproductTypeVisible=!0},addproductData:function(){this.addProductVisible=!0},closeAddproductType:function(){this.addproductTypeVisible=!1},closeAddProductDialog:function(){this.addProductVisible=!1,this.productsData={pro_color:"",imprint_methods:[],imprint_location:[],capacities:[]}},checkProductTopackData:function(t){var e=this;t.length>0&&t.forEach((function(t){Object(p["a"])(t).then((function(t){t.data.pack_image.forEach((function(t){t.path="https://chinagoodgifts.com/image/"+t.path})),e.getProductToPacks.push(t.data)}))}))},checkproductData:function(t){var e=this;t.pro_image.forEach((function(t){e.$refs.addProductComponent.getPicUrl({url:"https://chinagoodgifts.com/image/"+t})})),this.addProductVisible=!0,this.productsData=t}}},Q=q,H=Object(m["a"])(Q,o,n,!1,null,"45fa3576",null);e["default"]=H.exports},"033e":function(t,e,a){},1438:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-table",{attrs:{columns:t.columns,rowKey:"id","data-source":t.packData,pagination:t.pagination,loading:t.loading,"row-selection":{selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange}},scopedSlots:t._u([{key:"image",fn:function(e,o){return t._l(o.pack_image,(function(t){return a("div",{key:t.id,staticStyle:{display:"inline"}},[a("img",{attrs:{src:t.path,alt:"",width:"100"}})])}))}}])})},n=[],l=(a("4160"),a("159b"),a("5530")),r=a("3c4d"),i=[{title:"编号",dataIndex:"pack_number",key:"pack_number",width:"10%",scopedSlots:{customRender:"pack_number"}},{title:"尺寸",dataIndex:"size",key:"size",width:"10%",scopedSlots:{customRender:"size"}},{title:"材质",dataIndex:"material",key:"material",width:"10%",scopedSlots:{customRender:"material"}},{title:"重量",dataIndex:"weight",key:"weight",width:"10%",scopedSlots:{customRender:"weight"}},{title:"描述",dataIndex:"description",key:"description",width:"40%",scopedSlots:{customRender:"description"}},{title:"图片",dataIndex:"image",width:"20%",scopedSlots:{customRender:"image"}}],c={data:function(){return{columns:i,packData:[],pagination:{},loading:!0,selectedRowKeys:[],selectData:[],baseurl:"https://chinagoodgifts.com/image/"}},methods:{getData:function(){var t=this;Object(r["b"])().then((function(e){var a=Object(l["a"])({},t.pagination);a.total=e.data.count,e.data.results.forEach((function(e){0!==e.pack_image.length&&e.pack_image.forEach((function(e){e.path=t.baseurl+e.path}))})),t.packData=e.data.results,t.loading=!1,t.pagination=a}))},onSelectChange:function(t,e){this.selectedRowKeys=t,this.selectData=e,this.$emit("getSelectedPacks",this.selectData)},emptySelectedRowKeys:function(){this.selectedRowKeys=[]}},mounted:function(){this.getData()}},s=c,d=a("2877"),u=Object(d["a"])(s,o,n,!1,null,null,null);e["a"]=u.exports},1896:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-button",{attrs:{type:"primary"},on:{click:t.addProductText}},[t._v("新增")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"productTextTable",attrs:{data:t.productTextData,border:"",stripe:""},on:{select:t.handleSelect,"select-all":t.handleSelect}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"添加日期",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.pub_date))])]}}])}),a("el-table-column",{attrs:{label:"文本类别",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.p_type))])]}}])}),a("el-table-column",{attrs:{label:"产品类别",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.p_property))])]}}])}),a("el-table-column",{attrs:{label:"内容",width:"600"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.row.p_content,callback:function(a){t.$set(e.row,"p_content",a)},expression:"scope.row.p_content"}})]}}])}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0!==e.row.is_edit?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.handleChange(e.row)}}},[t._v("修改 ")]):t._e(),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.handleDel(e.$index,e.row)}}},[t._v("删除 ")])]}}])})],1),a("pagi-nation",{attrs:{getDataTotal:t.dataTotal},on:{pagination:t.pagination}}),t.ProductTextSelectedShow?a("el-button",{attrs:{type:"primary"},on:{click:t.ProductTextSelected}},[t._v("确 定")]):t._e(),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("product-text-form",{attrs:{productTextData:t.productTextDataRow,buttonNumber:t.buttonNumber}})],1)],1)},n=[],l=(a("a434"),a("4c79")),r=a("d2c0"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{attrs:{model:t.productTextData,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"文本类别"}},[a("el-select",{attrs:{clearable:""},model:{value:t.productTextData.p_type,callback:function(e){t.$set(t.productTextData,"p_type",e)},expression:"productTextData.p_type"}},t._l(t.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"产品类别"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{"visible-change":t.selectTest},model:{value:t.productTextData.p_property,callback:function(e){t.$set(t.productTextData,"p_property",e)},expression:"productTextData.p_property"}},t._l(t.productTypeData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.parent_category.category+"-"+t.category,value:t.parent_category.category+"-"+t.category}})})),1)],1),a("el-form-item",{attrs:{label:"内容"}},[a("el-input",{attrs:{type:"textarea",autosize:""},model:{value:t.productTextData.p_content,callback:function(e){t.$set(t.productTextData,"p_content",e)},expression:"productTextData.p_content"}})],1),a("el-form-item",[1===t.buttonNumber?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.handleSave}},[t._v("创建")]):t._e(),2===t.buttonNumber?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.handleUpdate}},[t._v("保存")]):t._e()],1)],1)},c=[],s=(a("a9e3"),{name:"productTextForm",props:{productTextData:{type:Object,default:null},buttonNumber:Number},data:function(){return{options:[{value:"description",label:"description"},{value:"custom",label:"custom"},{value:"prompt",label:"prompt"},{value:"others",label:"others"}],productTypeData:[]}},methods:{selectTest:function(t){var e=this;!0===t&&Object(l["a"])().then((function(t){e.productTypeData=t.data.results}))},handleSave:function(){var t=this;Object(l["h"])(this.productTextData).then((function(e){t.$message.success({message:"添加成功"})})).catch((function(e){t.$message.error({message:"添加失败"})}))},handleUpdate:function(){var t=this;this.productTextData.hasOwnProperty("id")&&Object(l["e"])(this.productTextData.id,this.productTextData).then((function(e){t.$message.success({message:"修改成功"})})).catch((function(e){t.$message.error({message:"修改失败"})}))}}}),d=s,u=a("2877"),p=Object(u["a"])(d,i,c,!1,null,"479574c6",null),b=p.exports,f={name:"productTextTable",components:{ProductTextForm:b,pagiNation:r["a"]},props:{ProductTextSelectedShow:{type:Boolean,default:!1}},data:function(){return{productTextData:[],productTextDataRow:{},productText:{is_edit:0,pub_date:"",p_type:"",p_content:""},options:[{value:"description",label:"description"},{value:"custom",label:"custom"},{value:"prompt",label:"prompt"},{value:"others",label:"others"}],dataTotal:0,loading:!0,productTypeData:[],selected:[],dialogVisible:!1,buttonNumber:0}},mounted:function(){this.pagination()},methods:{pagination:function(t){var e=this;t||(t={page:1,page_size:10}),Object(l["b"])(t).then((function(t){e.productTextData=t.data.results,e.loading=!1,e.dataTotal=t.data.count}))},addProductText:function(){this.productTextDataRow={},this.buttonNumber=1,this.dialogVisible=!0},handleChange:function(t){this.productTextDataRow=t,this.buttonNumber=2,this.dialogVisible=!0},handleDel:function(t,e){this.productTextData.splice(t,1)},handleSelect:function(t){this.selected=t},ProductTextSelected:function(){this.$emit("ProductTextSelected",this.selected),this.removeSelected()},removeSelected:function(){this.$refs.productTextTable.clearSelection()}}},m=f,h=Object(u["a"])(m,o,n,!1,null,"fd263e3e",null);e["a"]=h.exports},5530:function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));a("a4d3"),a("4de4"),a("4160"),a("e439"),a("dbb4"),a("b64b"),a("159b");var o=a("ade3");function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}},"5cc5":function(t,e,a){"use strict";var o=a("033e"),n=a.n(o);n.a},"738d":function(t,e,a){"use strict";var o=a("c035"),n=a.n(o);n.a},a434:function(t,e,a){"use strict";var o=a("23e7"),n=a("23cb"),l=a("a691"),r=a("50c4"),i=a("7b0b"),c=a("65f0"),s=a("8418"),d=a("1dde"),u=a("ae40"),p=d("splice"),b=u("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,m=Math.min,h=9007199254740991,g="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!p||!b},{splice:function(t,e){var a,o,d,u,p,b,_=i(this),y=r(_.length),v=n(t,y),P=arguments.length;if(0===P?a=o=0:1===P?(a=0,o=y-v):(a=P-2,o=m(f(l(e),0),y-v)),y+a-o>h)throw TypeError(g);for(d=c(_,o),u=0;u<o;u++)p=v+u,p in _&&s(d,u,_[p]);if(d.length=o,a<o){for(u=v;u<y-o;u++)p=u+o,b=u+a,p in _?_[b]=_[p]:delete _[b];for(u=y;u>y-o+a;u--)delete _[u-1]}else if(a>o)for(u=y-o;u>v;u--)p=u+o-1,b=u+a-1,p in _?_[b]=_[p]:delete _[b];for(u=0;u<a;u++)_[u+v]=arguments[u+2];return _.length=y-o+a,d}})},ade3:function(t,e,a){"use strict";function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a.d(e,"a",(function(){return o}))},b59b:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-input",{attrs:{size:"mini",clearable:"",placeholder:"请输入关键字..."},on:{clear:t.handleSearchClear,input:t.handleInput},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendSearch(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.sendSearch},slot:"append"})],1)],1)},n=[],l=(a("4160"),a("ac1f"),a("841c"),a("159b"),{name:"backendSearch",props:{keyWords:Array},data:function(){return{search:""}},methods:{handleInput:function(){""===this.search&&this.$emit("parentMethod")},sendSearch:function(){var t=this.search,e={};this.keyWords.forEach((function(a){e[a]=t})),t&&this.$emit("parentMethod",e)},handleSearchClear:function(){this.$emit("parentMethod")}}}),r=l,i=a("2877"),c=Object(i["a"])(r,o,n,!1,null,"0f6c9048",null);e["a"]=c.exports},c035:function(t,e,a){},d2c0:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,50,100,200],"page-size":t.page_size,layout:"total, sizes, prev, pager, next, jumper",total:t.getDataTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"prev-click":t.handleprevious,"next-click":t.handlenext}})],1)},n=[],l=(a("a9e3"),{name:"pagiNation",data:function(){return{page_size:10,currentPage:1}},props:{getDataTotal:{type:Number,default:0}},methods:{handleSizeChange:function(t){this.$emit("pagination",{page:1,page_size:t})},handleCurrentChange:function(t){this.$emit("pagination",{page:t,page_size:this.page_size})},handleprevious:function(t){this.$emit("pagination",{page:t,page_size:this.page_size})},handlenext:function(t){this.$emit("pagination",{page:t,page_size:this.page_size})}}}),r=l,i=a("2877"),c=Object(i["a"])(r,o,n,!1,null,"212aea47",null);e["a"]=c.exports},dbb4:function(t,e,a){var o=a("23e7"),n=a("83ab"),l=a("56ef"),r=a("fc6a"),i=a("06cf"),c=a("8418");o({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){var e,a,o=r(t),n=i.f,s=l(o),d={},u=0;while(s.length>u)a=n(o,e=s[u++]),void 0!==a&&c(d,e,a);return d}})},e439:function(t,e,a){var o=a("23e7"),n=a("d039"),l=a("fc6a"),r=a("06cf").f,i=a("83ab"),c=n((function(){r(1)})),s=!i||c;o({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(t,e){return r(l(t),e)}})},f0ad:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block"},[a("el-carousel",{attrs:{trigger:"click"}},t._l(t.proPicUrl,(function(t,e){return a("el-carousel-item",{key:e},[a("img",{staticClass:"car-img",attrs:{src:t,height:"auto"}})])})),1)],1)},n=[],l={name:"picCarousel",data:function(){return{picUrlList:[]}},props:{proPicUrl:Array},computed:{},methods:{}},r=l,i=(a("5cc5"),a("2877")),c=Object(i["a"])(r,o,n,!1,null,null,null);e["a"]=c.exports},f719:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-col",{attrs:{span:4}},[a("backend-searchVue",{attrs:{keyWords:t.keyWords},on:{parentMethod:t.pagination}})],1),a("el-col",{attrs:{span:8}},[a("date-search",{on:{dateSearchDate:t.dateSearchDate}})],1),a("el-col",{attrs:{span:4}},[a("upload-pic",{on:{sendPicUrl:t.getPicUrl}})],1)],1),a("el-table",{ref:"imageTableData",attrs:{data:t.imageData,border:"",stripe:""},on:{select:t.handleSelect,"select-all":t.handleSelect}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"所属产品",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.is_edit?a("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{"visible-change":t.selectTest},model:{value:e.row.pro_number,callback:function(a){t.$set(e.row,"pro_number",a)},expression:"scope.row.pro_number"}},t._l(t.productDataSelect,(function(t){return a("el-option",{key:t.id,attrs:{label:t.pro_number,value:t.id}})})),1):a("span",[t._v(t._s(e.row.pro_number))])]}}])}),a("el-table-column",{attrs:{label:"所属包装",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.is_edit?a("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{"visible-change":t.packNumberSelect},model:{value:e.row.pack_number,callback:function(a){t.$set(e.row,"pack_number",a)},expression:"scope.row.pack_number"}},t._l(t.packDataSelect,(function(t){return a("el-option",{key:t.id,attrs:{label:t.pack_number,value:t.id}})})),1):a("span",[t._v(t._s(e.row.pack_number))])]}}])}),a("el-table-column",{attrs:{label:"所属订单",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.is_edit?a("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{"visible-change":t.orderNumberSelect},model:{value:e.row.order_number,callback:function(a){t.$set(e.row,"order_number",a)},expression:"scope.row.order_number"}},t._l(t.orderDataSelect,(function(t){return a("el-option",{key:t.id,attrs:{label:t.order_number,value:t.id}})})),1):a("span",[t._v(t._s(e.row.order_number))])]}}])}),a("el-table-column",{attrs:{label:"上传日期",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.up_date))])]}}])}),a("el-table-column",{attrs:{label:"所属",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.is_edit?a("el-input",{model:{value:e.row.owner,callback:function(a){t.$set(e.row,"owner",a)},expression:"scope.row.owner"}}):a("span",[t._v(t._s(e.row.owner))])]}}])}),a("el-table-column",{attrs:{label:"首页展示",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.is_edit?a("el-input",{model:{value:e.row.is_home,callback:function(a){t.$set(e.row,"is_home",a)},expression:"scope.row.is_home"}}):a("span",[t._v(t._s(e.row.is_home))])]}}])}),a("el-table-column",{attrs:{label:"首页顺序",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.is_edit?a("el-input",{model:{value:e.row.home_index,callback:function(a){t.$set(e.row,"home_index",a)},expression:"scope.row.home_index"}}):a("span",[t._v(t._s(e.row.home_index))])]}}])}),a("el-table-column",{attrs:{label:"cover",align:"center",width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.is_edit?a("el-input",{model:{value:e.row.is_cover,callback:function(a){t.$set(e.row,"is_cover",a)},expression:"scope.row.is_cover"}}):a("span",[t._v(t._s(e.row.is_cover))])]}}])}),a("el-table-column",{attrs:{label:"banner",align:"center",width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.is_edit?a("el-input",{model:{value:e.row.is_banner,callback:function(a){t.$set(e.row,"is_banner",a)},expression:"scope.row.is_banner"}}):a("span",[t._v(t._s(e.row.is_banner))])]}}])}),a("el-table-column",{attrs:{label:"alt",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.is_edit?a("el-input",{model:{value:e.row.image_alt,callback:function(a){t.$set(e.row,"image_alt",a)},expression:"scope.row.image_alt"}}):a("span",[t._v(t._s(e.row.image_alt))])]}}])}),a("el-table-column",{attrs:{label:"banner_title",align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.is_edit?a("el-input",{attrs:{autosize:""},model:{value:e.row.banner_title,callback:function(a){t.$set(e.row,"banner_title",a)},expression:"scope.row.banner_title"}}):a("span",[t._v(t._s(e.row.banner_title))])]}}])}),a("el-table-column",{attrs:{label:"banner_desc",align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.is_edit?a("el-input",{attrs:{autosize:""},model:{value:e.row.banner_desc,callback:function(a){t.$set(e.row,"banner_desc",a)},expression:"scope.row.banner_desc"}}):a("span",[t._v(t._s(e.row.banner_desc))])]}}])}),a("el-table-column",{attrs:{label:"是否占用",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.is_used))])]}}])}),a("el-table-column",{attrs:{label:"图片",align:"center",width:"300",fiexd:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("img",{staticClass:"image",attrs:{src:t.baseurl+e.row.path,alt:e.row.path}})]}}])}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.handleDel(e.row)}}},[t._v("删除")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:0===e.row.is_edit,expression:"scope.row.is_edit === 0"}],attrs:{type:"text",size:"mini"},on:{click:function(a){return t.handleChange(e.row)}}},[t._v("修改")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:1===e.row.is_edit,expression:"scope.row.is_edit === 1"}],attrs:{type:"text",size:"mini"},on:{click:function(a){return t.handleSave(e.row)}}},[t._v("保存")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:1===e.row.is_edit,expression:"scope.row.is_edit === 1"}],attrs:{type:"text",size:"mini"},on:{click:function(a){return t.handleCancel(e.row)}}},[t._v("取消")])]}}])})],1),a("pagi-nation",{attrs:{getDataTotal:t.dataTotal},on:{pagination:t.pagination}})],1)},n=[],l=a("d2c0"),r=a("6681"),i=a("b59b"),c=a("4c60"),s=a("685c"),d=a("4c79"),u=a("3c4d"),p=a("f8b7"),b={name:"imageTable",components:{pagiNation:l["a"],backendSearchVue:i["a"],dateSearch:r["a"],uploadPic:c["a"]},data:function(){return{imageData:[],dataTotal:0,baseurl:"https://chinagoodgifts.com/image/",productDataSelect:[],packDataSelect:[],orderDataSelect:[],keyWords:["owner","is_banner","image_alt"],tempData:{}}},methods:{selectTest:function(t){var e=this;!0===t&&Object(d["d"])().then((function(t){e.productDataSelect=t.data.results}))},packNumberSelect:function(t){var e=this;!0===t&&Object(u["b"])().then((function(t){e.packDataSelect=t.data.results}))},orderNumberSelect:function(t){var e=this;!0===t&&Object(p["b"])().then((function(t){e.orderDataSelect=t.data.results}))},handleSelect:function(t){this.$emit("patchImageTable",t)},dateSearchDate:function(t){t?this.pagination({start_date:t[0],end_date:t[1],argument:"date_search"}):this.pagination()},pagination:function(t){var e=this;t||(t={page:1,page_size:10}),Object(s["b"])(t).then((function(t){e.loading=!1,e.imageData=t.data.results,e.dataTotal=t.data.count}))},handleDel:function(t){var e=this;Object(s["a"])(t.id).then((function(t){e.pagination()}))},handleChange:function(t){t.is_edit=1,this.tempData=t},handleSave:function(t){var e=this;t.is_edit=0,Object(s["c"])(t.id,t).then((function(t){e.pagination()}))},handleCancel:function(t){t.is_edit=0,this.row=this.tempData},clearSelect:function(){this.$refs.imageTableData.clearSelection()},getPicUrl:function(t){this.$message("图片上传成功!")}},created:function(){this.pagination()}},f=b,m=(a("738d"),a("2877")),h=Object(m["a"])(f,o,n,!1,null,null,null);e["a"]=h.exports}}]);