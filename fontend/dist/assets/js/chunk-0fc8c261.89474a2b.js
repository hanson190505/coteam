(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0fc8c261"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"3c4d":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return u})),a.d(e,"d",(function(){return l})),a.d(e,"c",(function(){return c})),a.d(e,"e",(function(){return s}));var n=a("6128"),r=a("4328"),o=a.n(r);function i(t){return Object(n["a"])({url:"packs/",params:t})}function u(t){return Object(n["a"])({url:"packs/".concat(t,"/")})}function l(t){return Object(n["a"])({url:"packs/",method:"post",data:o.a.stringify(t)})}function c(t){return Object(n["a"])({url:"product_to_pack/",params:t})}function s(t){return Object(n["a"])({url:"product_to_pack/",method:"post",data:o.a.stringify(t)})}},"4c60":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.picdialogVisible=!0}}},[t._v("上传图片")]),a("el-dialog",{attrs:{title:"",visible:t.picdialogVisible,width:"50%","append-to-body":!0},on:{"update:visible":function(e){t.picdialogVisible=e}}},[a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"首页"}},[a("el-select",{attrs:{placeholder:"",clearable:""},model:{value:t.uploadData.is_home,callback:function(e){t.$set(t.uploadData,"is_home",e)},expression:"uploadData.is_home"}},t._l(t.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"首页顺序"}},[a("el-input",{model:{value:t.uploadData.home_index,callback:function(e){t.$set(t.uploadData,"home_index",e)},expression:"uploadData.home_index"}})],1),a("el-form-item",{attrs:{label:"banner"}},[a("el-select",{attrs:{placeholder:"",clearable:""},model:{value:t.uploadData.is_banner,callback:function(e){t.$set(t.uploadData,"is_banner",e)},expression:"uploadData.is_banner"}},t._l(t.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"cover"}},[a("el-select",{attrs:{placeholder:"",clearable:""},model:{value:t.uploadData.is_cover,callback:function(e){t.$set(t.uploadData,"is_cover",e)},expression:"uploadData.is_cover"}},t._l(t.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"alt"}},[a("el-input",{model:{value:t.uploadData.image_alt,callback:function(e){t.$set(t.uploadData,"image_alt",e)},expression:"uploadData.image_alt"}})],1),a("el-form-item",{attrs:{label:"所属产品"}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},on:{"visible-change":t.productSelect},model:{value:t.uploadData.pro_number,callback:function(e){t.$set(t.uploadData,"pro_number",e)},expression:"uploadData.pro_number"}},t._l(t.productDataSelect,(function(e){return a("el-option",{key:e.id,attrs:{label:e.pro_number,value:e.id}},[a("span",[t._v(t._s(e.sub_type))]),t._v("- "),a("span",[t._v(t._s(e.pro_number))]),t._v("- "),a("span",[t._v(t._s(e.pro_name))])])})),1)],1),a("el-form-item",{attrs:{label:"所属包装"}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},on:{"visible-change":t.packNumberSelect},model:{value:t.uploadData.pack_number,callback:function(e){t.$set(t.uploadData,"pack_number",e)},expression:"uploadData.pack_number"}},t._l(t.packDataSelect,(function(e){return a("el-option",{key:e.id,attrs:{label:e.pack_number,value:e.id}},[a("span",[t._v(t._s(e.pack_number))]),t._v("- "),a("span",[t._v(t._s(e.size))]),t._v("- "),a("span",[t._v(t._s(e.material))])])})),1)],1),a("el-form-item",{attrs:{label:"所属订单"}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},on:{"visible-change":t.orderNumberSelect},model:{value:t.uploadData.order_number,callback:function(e){t.$set(t.uploadData,"order_number",e)},expression:"uploadData.order_number"}},t._l(t.orderDataSelect,(function(e){return a("el-option",{key:e.id,attrs:{label:e.order_number,value:e.id}},[a("span",[t._v(t._s(e.order_number)+"-"+t._s(e.customer.lite_name))])])})),1)],1)],1),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:t.actionUrl,"on-success":t.uploadSuccess,"file-list":t.fileList,limit:1,data:t.uploadData,headers:t.myheaders,accept:"image/jpg, image/jpeg, image/png, image/jpf","auto-upload":!1,"on-exceed":t.handleExceed}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.uploadBtn}},[t._v("上传到服务器")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" 只能上传jpg/png文件，且不超过500kb ")])],1)],1)],1)},r=[],o=(a("a9e3"),a("4c79")),i=a("3c4d"),u=a("f8b7"),l={name:"uploadPic",props:{owner:{type:String,default:"public"},index:{type:Number,default:99},number:{type:String,default:"default"}},data:function(){return{picdialogVisible:!1,actionUrl:"https://chinagoodgifts.com/api/upload/",fileList:[],uploadData:{owner:this.owner,number:this.number},myheaders:{authorization:window.localStorage.getItem("token")},options:[{value:"0",label:"否"},{value:"1",label:"是"}],productDataSelect:[],packDataSelect:[],orderDataSelect:[]}},methods:{productSelect:function(t){var e=this;!0===t&&Object(o["c"])().then((function(t){e.productDataSelect=t.data.results}))},packNumberSelect:function(t){var e=this;!0===t&&Object(i["b"])().then((function(t){e.packDataSelect=t.data.results}))},orderNumberSelect:function(t){var e=this;!0===t&&Object(u["b"])().then((function(t){e.orderDataSelect=t.data.results}))},uploadSuccess:function(t){switch(t.status){case 1e3:this.$message("上传成功"),this.$emit("sendPicUrl",{url:"https://chinagoodgifts.com/image/"+t.file,index:this.index,id:t.id});break;case 1001:this.$message.error("图片尺寸太大,请选择500kb以下的图片");break;case 1002:this.$message.error("非法的文件格式,或图片已损坏");break;case 1003:this.$message("找到相同的图片"),this.$emit("sendPicUrl",{url:"https://chinagoodgifts.com/image/"+t.file,index:this.index,id:t.id});default:break}},handleExceed:function(){this.$message.error("单次只能上传一张图片")},uploadBtn:function(){void 0===this.uploadData.home_index&&(this.uploadData.home_index=0),void 0===this.uploadData.is_home&&(this.uploadData.is_home=0),void 0===this.uploadData.is_banner&&(this.uploadData.is_banner=0),""===this.number?this.$message.error("请完整填写订单信息!"):(this.uploadData.number=this.number,this.$refs.upload.submit())}}},c=l,s=a("2877"),d=Object(s["a"])(c,n,r,!1,null,null,null);e["a"]=d.exports},"4c79":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"g",(function(){return u})),a.d(e,"d",(function(){return l})),a.d(e,"c",(function(){return c})),a.d(e,"h",(function(){return s})),a.d(e,"e",(function(){return d})),a.d(e,"a",(function(){return p})),a.d(e,"f",(function(){return f}));var n=a("6128"),r=a("4328"),o=a.n(r);a("2b0e");Object.prototype.hasOwnProperty;function i(t){return Object(n["a"])({url:"product_type/",params:t})}function u(t){return Object(n["a"])({url:"product_type/",method:"post",data:o.a.stringify(t)})}function l(t,e){return Object(n["a"])({url:"product_type/".concat(t,"/"),method:"patch",data:o.a.stringify(e)})}function c(t){return Object(n["a"])({url:"products/",params:t})}function s(t){return Object(n["a"])({url:"products/",method:"post",data:o.a.stringify(t)})}function d(t,e){return Object(n["a"])({url:"products/".concat(t,"/"),method:"patch",data:o.a.stringify(e)})}function p(t){return Object(n["a"])({url:"product_text/",params:t})}function f(t){return Object(n["a"])({url:"product_text/",method:"post",data:o.a.stringify(t)})}},6681:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions,"value-format":"yyyy-MM-dd"},on:{change:function(e){return t.dateRangeChange(t.value)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},r=[],o={name:"dateSearch",data:function(){return{value:"",pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]}}},methods:{dateRangeChange:function(t){this.$emit("dateSearchDate",t)}}},i=o,u=a("2877"),l=Object(u["a"])(i,n,r,!1,null,"57cc3ee9",null);e["a"]=l.exports},"685c":function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"a",(function(){return o})),a.d(e,"c",(function(){return i}));var n=a("6128");function r(t){return Object(n["a"])({url:"upload/",params:t})}function o(t){return Object(n["a"])({url:"upload/".concat(t,"/"),method:"DELETE"})}function i(t,e){return Object(n["a"])({url:"upload/".concat(t,"/"),method:"patch",data:e})}},"841c":function(t,e,a){"use strict";var n=a("d784"),r=a("825a"),o=a("1d80"),i=a("129f"),u=a("14c3");n("search",1,(function(t,e,a){return[function(e){var a=o(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,a):new RegExp(e)[t](String(a))},function(t){var n=a(e,t,this);if(n.done)return n.value;var o=r(t),l=String(this),c=o.lastIndex;i(c,0)||(o.lastIndex=0);var s=u(o,l);return i(o.lastIndex,c)||(o.lastIndex=c),null===s?-1:s.index}]}))},f8b7:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return u})),a.d(e,"j",(function(){return l})),a.d(e,"f",(function(){return c})),a.d(e,"e",(function(){return s})),a.d(e,"i",(function(){return d})),a.d(e,"m",(function(){return p})),a.d(e,"c",(function(){return f})),a.d(e,"g",(function(){return m})),a.d(e,"k",(function(){return b})),a.d(e,"d",(function(){return h})),a.d(e,"l",(function(){return _})),a.d(e,"h",(function(){return g}));var n=a("6128"),r=a("4328"),o=a.n(r);function i(t){return Object(n["a"])({url:"orders/",params:t})}function u(t,e){return Object(n["a"])({url:"orders/".concat(t,"/"),params:e})}function l(t){return Object(n["a"])({url:"orders/",method:"post",params:{subtoken:window.sessionStorage.getItem("subtoken")},data:o.a.stringify(t)})}function c(t,e){return Object(n["a"])({url:"orders/".concat(t,"/"),method:"patch",data:o.a.stringify(e)})}function s(t){return Object(n["a"])({url:"suborders/",params:t})}function d(t,e){return Object(n["a"])({url:"suborders/".concat(t,"/"),method:"patch",data:o.a.stringify(e)})}function p(t){return Object(n["a"])({url:"suborders/",method:"post",params:{subtoken:window.sessionStorage.getItem("subtoken")},data:o.a.stringify(t)})}function f(t){return Object(n["a"])({url:"order_model/",params:t})}function m(t,e){return Object(n["a"])({url:"order_model/".concat(t,"/"),method:"patch",data:o.a.stringify(e)})}function b(t){return Object(n["a"])({url:"order_model/",method:"post",params:{subtoken:window.sessionStorage.getItem("subtoken")},data:o.a.stringify(t)})}function h(t){return Object(n["a"])({url:"order_to_model/",params:t})}function _(t){return Object(n["a"])({url:"order_to_model/",method:"post",params:{subtoken:window.sessionStorage.getItem("subtoken")},data:o.a.stringify(t)})}function g(t,e){return Object(n["a"])({url:"order_to_model/".concat(t,"/"),method:"patch",data:o.a.stringify(e)})}}}]);